# FF.PyAdmin

## v1.1

**2019-12-20 更新:**

- 新增配置项: `MAIL_OPEN` 邮件发送开关, 与邮件配置项配合使用, 默认 `False`
- 新增配置项: `EXCEPTION_LOG_CODE` 触发记录文件日志的响应码, 默认 `[500]`
- 新增配置项: `SYS_ROLE_ID` 保留角色(权限组) ID 设置, 禁止将其他用户授权为该角色, 默认 `0`
- 用户表使用 `id` 字段配合 `flask_login` (原使用 `job_number` 字段)
- 用户权限组关联使用 `role_id` 字段 (原使用 `role` 标识)
- 日志表增加 `log_content` 字段, 用于记录日志详情, 日志记录方式见 ASNCharge.add()
- 数据库操作使用 `replace` 方法新增数据时, 确保总能获取到最新插入数据后的自增主键 ID
- 自定义信号机制(事件订阅-发布), 使用见示例代码: 系统管理事件, 用户登录成功事件
- 封装了邮件发送类, 基于 `flask_mail`, 支持邮件内容按模板渲染(HTML, TEXT), 支持异步发送邮件(默认)
- 附带了一个通用的邮件模板, 通过手机系统邮件/钉钉/QQ/微信/Foxmail/Outlook等邮件客户端兼容性测试

